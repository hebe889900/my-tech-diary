## Engineering

### [How on Earth the Facebook iOS Application is so large](http://quellish.tumblr.com/post/126712999812/how-on-earth-the-facebook-ios-application-is-so)

My CPU fan went crazy when I scrolled down the page...wow. 18,000 clasess(and the naming really reminds you of those Java frameworks e.g. spring, LOL). A lot of them looks like classes generated by something like React Native though.

And [the discussion on reddit](https://www.reddit.com/r/programming/comments/3h52yk/someone_discovered_that_the_facebook_ios/) is pretty funny.

### [Facebook’s code quality problem](http://www.darkcoding.net/software/facebooks-code-quality-problem/)

> All I can think of when reading this is Martin Fowler’s Design Stamina Hypothesis on what happens to a system without architecture. It becomes harder and takes longer to add new features versus a system where architecture is golden. Facebook’s solution to a downward curve seems to be to just throw more developers at it until it bends north. I’d never want anyone in my tiny team thinking this is what the cool kids are doing. I’d never want to work this way, but it works for them.


### [iOS at Facebook](www.slideshare.net/quellish/simon-whitaker)

So they are taking the term "reinventing the wheel" to a whole new level. Looks like they reimplement most of the things provided by Apple because *X cannot handle their scale*.

* They have 429 people making a total of 2823 commits in a week for the iOS facebook app
* **Core Data** vending mutable projects can't handle their scale, so they created **Mem Models** vending *immutable* objects
* **UIKit** making layouts on the main thread can't handle their scale because they need 60fps for their complex feed units, so they created **ComponentKit** taking a functional, declarative approach and making layouts on a background thread
  * And because they are Facebook so they have at least two alternatives LOL.
  * **AsyncDisplayKit** for Paper
  * **React Native** for developers to *learn once, write everywhere*
  * And they don't make much use of Auto Layout(still on the main thread) either because 60fps matters
* **XCode** can't handle their scale because it's too slow, so they created their own IDE **Nuclide**(and that's....wow)
* **Git** can't handle their scale(monstrous code base), so they use a hacked version of **Mercuiral** with **watchman**(a local FS monitor) and **remotefilelog**(a Mercurial extension to reduce network I/O)

And more...

* **Infer**: detect bugs in Android and iOS apps before they ship, reports memory leaks in Objective-C and C code. Part of CI.
* **Pop**: extensible animation engine for iOS and OSX powering Paper.
* **Chisel**: LLDB commands for debugging iOS apps.

[Inside the Big Blue App](https://code.facebook.com/videos/859635244094281/f8-2015-facebook-on-ios-inside-the-big-blue-app-/)